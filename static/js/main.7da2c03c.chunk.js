(this["webpackJsonpflow-forms"]=this["webpackJsonpflow-forms"]||[]).push([[0],[,,,function(e,t,n){e.exports={heading:"FormEditor_heading__3cR8M",subheading:"FormEditor_subheading__29qys",property:"FormEditor_property__3n28p",formEditor:"FormEditor_formEditor__1PxhO",sideBar:"FormEditor_sideBar__2pn2k",sideBarItem:"FormEditor_sideBarItem__DMKXB",selected:"FormEditor_selected__3nE-h",main:"FormEditor_main__217fC"}},,function(e,t,n){e.exports={logo:"Header_logo__1_msB",logoIcon:"Header_logoIcon__c47Hc",title:"Header_title__2VpMf",headerPanel:"Header_headerPanel__3TNwh",itemsContainer:"Header_itemsContainer__Wdp3U",headerItemLabel:"Header_headerItemLabel__1jLLQ",headerItem:"Header_headerItem__23q8M"}},function(e,t,n){e.exports={sidePanel:"Sidepanel_sidePanel__3a658",sidePanelLabel:"Sidepanel_sidePanelLabel__1ZEtV",sidePanelTextInput:"Sidepanel_sidePanelTextInput__2HnYh",panelBtn:"Sidepanel_panelBtn__3H8fA",deleteBtn:"Sidepanel_deleteBtn__e2VaB Sidepanel_panelBtn__3H8fA",iconBtn:"Sidepanel_iconBtn___qr-z",answerWrapper:"Sidepanel_answerWrapper__2a6EB",answerHeader:"Sidepanel_answerHeader__QkmT8"}},function(e,t,n){e.exports={app:"App_app__1kX79",flowWrapper:"App_flowWrapper__39H7h",fileInput:"App_fileInput__OeFCF",backdrop:"App_backdrop__1J_fz",backdropElementWrapper:"App_backdropElementWrapper__Jj-rr",backdropRemoveBtn:"App_backdropRemoveBtn__2m8Ct",backdropHeader:"App_backdropHeader__28V_f",backdropMain:"App_backdropMain__2R1nr",controls:"App_controls__14oJX",customControlBtn:"App_customControlBtn__3XnkQ",controlStartIcon:"App_controlStartIcon__EY1MC",controlsQuestionIcon:"App_controlsQuestionIcon__2Qw4v",controlsEndIcon:"App_controlsEndIcon__2HrRA"}},,,,function(e,t,n){e.exports={formWrapper:"Form_formWrapper__2N2X-",questionWrapper:"Form_questionWrapper__1qGAg",questionText:"Form_questionText__16sDA",answer:"Form_answer__2uEds",selected:"Form_selected__Q6STM",endWrapper:"Form_endWrapper__1VwxS",endTitle:"Form_endTitle__sS77_",endResult:"Form_endResult__1iDh0"}},function(e,t,n){e.exports={questionNodeWrapper:"Questionnode_questionNodeWrapper__1H-8v",selected:"Questionnode_selected___BzoX",questionWrapper:"Questionnode_questionWrapper__2MD59",questionHandle:"Questionnode_questionHandle__2gcb5",questionNodeText:"Questionnode_questionNodeText__1Z2Rj",answerWrapper:"Questionnode_answerWrapper__M-V40",answerText:"Questionnode_answerText__2NCQw",answerList:"Questionnode_answerList__1vg8X"}},,,,,function(e,t,n){e.exports={wrapper:"Endnode_wrapper__2tmgF",selected:"Endnode_selected__2hW_g",resultText:"Endnode_resultText__DyQCT"}},,,,,function(e,t,n){},,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),o=n(15),r=n.n(o),c=(n(22),n(21)),l=n(9),i=n.n(l),d=n(14),u=n(8),j=n(4),p=n(7),b=n.n(p),v=n(2);function m(e){var t=e.id,n=e.sourceX,s=e.sourceY,o=e.targetX,r=e.targetY,c=e.sourcePosition,l=e.targetPosition,i=e.style,d=void 0===i?{}:i,p=(e.data,e.arrowHeadType),b=e.markerEndId,m=Object(a.useContext)(U),f=Object(j.j)({sourceX:n,sourceY:s,sourcePosition:c,targetX:o,targetY:r,targetPosition:l}),x=Object(j.l)(p,b),h=Object(j.k)({sourceX:n,sourceY:s,targetX:o,targetY:r}),O=Object(u.a)(h,2),_=O[0],g=O[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("path",{id:t,style:d,className:"react-flow__edge-path",d:f,markerEnd:x}),Object(v.jsx)("foreignObject",{width:40,height:40,x:_-20,y:g-20,className:"edgebutton-foreignobject",requiredExtensions:"http://www.w3.org/1999/xhtml",children:Object(v.jsx)("button",{className:"edgebutton",onClick:function(e){return function(e,t){e.stopPropagation(),console.log("remove ".concat(t)),m(t)}(e,t)},children:"X"})})]})}var f=n(5),x=n.n(f),h=n(10),O=n(23),_=function(e){return Object(v.jsxs)("div",{className:x.a.headerPanel,children:[Object(v.jsxs)("div",{className:x.a.logo,children:[Object(v.jsx)(O.a,{className:x.a.logoIcon}),Object(v.jsx)("input",{onChange:function(t){e.setTitle(t.target.value)},value:e.title,className:x.a.title})]}),Object(v.jsxs)("div",{className:x.a.itemsContainer,children:[Object(v.jsxs)("div",{className:x.a.headerItem,onClick:function(){return e.createNode(k.Start)},children:[Object(v.jsx)("div",{className:x.a.headerItemLabel,children:"Start Node"}),Object(v.jsx)(h.d,{})]}),Object(v.jsxs)("div",{className:x.a.headerItem,onClick:function(){return e.createNode(k.Question)},children:[Object(v.jsx)("div",{className:x.a.headerItemLabel,children:"Question Node"}),Object(v.jsx)(h.e,{})]}),Object(v.jsxs)("div",{className:x.a.headerItem,onClick:function(){return e.createNode(k.End)},children:[Object(v.jsx)("div",{className:x.a.headerItemLabel,children:"End Node"}),Object(v.jsx)(h.c,{})]}),Object(v.jsxs)("div",{className:x.a.headerItem,onClick:function(){return e.onExport()},children:[Object(v.jsx)("div",{className:x.a.headerItemLabel,children:"Export"}),Object(v.jsx)(h.b,{})]}),Object(v.jsxs)("div",{className:x.a.headerItem,onClick:function(){return e.onSave()},children:[Object(v.jsx)("div",{className:x.a.headerItemLabel,children:"Save"}),Object(v.jsx)(h.g,{})]}),Object(v.jsxs)("div",{className:x.a.headerItem,onClick:function(){return e.onLoadSave()},children:[Object(v.jsx)("div",{className:x.a.headerItemLabel,children:"Upload Save"}),Object(v.jsx)(h.a,{})]}),Object(v.jsxs)("div",{className:x.a.headerItem,onClick:function(){return e.onTestForm()},children:[Object(v.jsx)("div",{className:x.a.headerItemLabel,children:"Test Form"}),Object(v.jsx)(h.f,{})]})]})]})},g=n(13);function N(e,t){return{x:e.x+t.x,y:e.y+t.y}}function y(e,t){var n,a=null,s={startId:"",nodeMap:{},styles:t},o=Object(g.a)(e);try{for(o.s();!(n=o.n()).done;){var r=n.value;Object(j.n)(r)&&("input"===r.type?a=r.id:"question"===r.type?s.nodeMap[r.id]={type:"question",question:r.data.question,answers:r.data.answers.map((function(e){return{text:e.text,nextId:null}}))}:"end"===r.type&&(s.nodeMap[r.id]={type:"end",result:r.data.result}))}}catch(d){o.e(d)}finally{o.f()}null===a&&console.log("There is no start node");var c,l=Object(g.a)(e);try{for(l.s();!(c=l.n()).done;){var i=c.value;Object(j.m)(i)&&(i.source===a?s.startId=i.target:s.nodeMap[i.source].answers[parseInt(i.sourceHandle,10)].nextId=i.target)}}catch(d){l.e(d)}finally{l.f()}return s}function S(e,t,n){var a=document.createElement("a"),s=new Blob([e],{type:n});a.href=URL.createObjectURL(s),a.download=t,a.click()}function w(e){return C.apply(this,arguments)}function C(){return(C=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var a=new FileReader;a.onload=function(t){return e(JSON.parse(t.target.result))},a.onerror=function(e){return n(e)},a.readAsText(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k,I=n(12),E=n.n(I),D=function(e){var t=Object(a.useContext)(Z),n="".concat(E.a.questionNodeWrapper);t===e.id&&(n="".concat(E.a.questionNodeWrapper," ").concat(E.a.selected));return Object(v.jsxs)("div",{className:n,children:[Object(v.jsxs)("div",{className:E.a.questionWrapper,children:[Object(v.jsx)(j.e,{className:"handleLeft",style:{position:"absolute"},type:"target",position:j.g.Left}),Object(v.jsx)("div",{className:E.a.questionNodeText,dangerouslySetInnerHTML:{__html:e.data.question}})]}),Object(v.jsx)("div",{className:E.a.answerList,children:e.data.answers.map((function(e,t){return Object(v.jsxs)("div",{className:E.a.answerWrapper,children:[Object(v.jsx)("div",{className:E.a.answerText,dangerouslySetInnerHTML:{__html:e.text}}),Object(v.jsx)(j.e,{id:"".concat(t),className:"handleRight",style:{position:"absolute"},type:"source",position:j.g.Right})]},t)}))})]})},q=n(18),B=n(6),T=n.n(B),F=function(e){var t;return null==e.nodeData?Object(v.jsx)("div",{className:T.a.sidePanel,children:"Click a node to edit it."}):"question"===e.nodeData.type?Object(v.jsxs)("div",{className:T.a.sidePanel,children:[Object(v.jsx)("div",{className:T.a.sidePanelLabel,children:"Question"}),Object(v.jsx)("textarea",{rows:7,className:T.a.sidePanelTextInput,onChange:function(t){return function(t){var n=e.nodeData;n.data.question=t,e.setNodeData(n)}(t.target.value)},value:e.nodeData.data.question}),(t=e.nodeData.data.answers,t.map((function(t,n){return Object(v.jsxs)("div",{className:T.a.answerWrapper,children:[Object(v.jsxs)("div",{className:T.a.answerHeader,children:[Object(v.jsx)("div",{className:T.a.sidePanelLabel,children:"Answer ".concat(n+1)}),Object(v.jsx)(q.a,{onClick:function(){return function(t){var n=e.nodeData;n.data.answers.splice(t,1),e.setNodeData(n)}(n)},className:T.a.iconBtn})]}),Object(v.jsx)("textarea",{rows:7,className:T.a.sidePanelTextInput,value:t.text,onChange:function(t){return function(t,n){var a=e.nodeData;a.data.answers[n].text=t,e.setNodeData(a)}(t.target.value,n)}})]},n)}))),Object(v.jsx)("button",{onClick:function(){var t=e.nodeData;t.data.answers.push({text:"My answer",nextId:null}),e.setNodeData(t)},className:T.a.panelBtn,children:"Add Answer"}),Object(v.jsx)("button",{onClick:function(t){return e.deleteNode()},className:T.a.deleteBtn,children:"Delete Node"})]}):"end"===e.nodeData.type?Object(v.jsxs)("div",{className:T.a.sidePanel,children:[Object(v.jsx)("div",{className:T.a.sidePanelLabel,children:"Result"}),Object(v.jsx)("textarea",{rows:7,className:T.a.sidePanelTextInput,onChange:function(t){return function(t){var n=e.nodeData;n.data.result=t,e.setNodeData(n)}(t.target.value)},value:e.nodeData.data.result}),Object(v.jsx)("button",{onClick:function(t){return e.deleteNode()},className:T.a.deleteBtn,children:"Delete Node"})]}):"input"===e.nodeData.type?Object(v.jsxs)("div",{className:T.a.sidePanel,children:[Object(v.jsx)("div",{className:T.a.sidePanelLabel,children:"Start node"}),Object(v.jsx)("button",{onClick:function(t){return e.deleteNode()},className:T.a.deleteBtn,children:"Delete Node"})]}):Object(v.jsx)("div",{className:T.a.sidePanel,children:JSON.stringify(e.nodeData,null,1)})},L=n(17),A=n.n(L),P=function(e){var t=Object(a.useContext)(Z),n="".concat(A.a.wrapper);return t===e.id&&(n="".concat(A.a.wrapper," ").concat(A.a.selected)),Object(v.jsxs)("div",{className:n,children:[Object(v.jsx)(j.e,{className:"handleLeft",style:{position:"absolute"},type:"target",position:j.g.Left}),Object(v.jsx)("div",{className:A.a.resultText,dangerouslySetInnerHTML:{__html:e.data.result}})]})},M=n(11),W=n.n(M),H=function(e){return Object(v.jsxs)("div",{className:W.a.questionWrapper,children:[Object(v.jsx)("div",{className:W.a.questionText,style:{color:e.style.color,fontSize:"".concat(e.style.fontSize,"px")},dangerouslySetInnerHTML:{__html:e.question}}),e.answers.map((function(t,n){return Object(v.jsx)(Q,{text:t.text,index:n,selectedAns:e.selectedAns,setSelectedAns:e.setSelectedAns,style:e.answerStyles,selectedStyle:e.selectedStyles},n)}))]})},Q=function(e){var t,n,a,s,o,r,c,l=function(){e.selectedAns===e.index?e.setSelectedAns(null):e.setSelectedAns(e.index)};return e.selectedAns===e.index?Object(v.jsx)("div",{onClick:l,className:"".concat(W.a.answer," ").concat(W.a.selected),style:{border:"solid 2px ".concat(null===(o=e.selectedStyle)||void 0===o?void 0:o.color),color:null===(r=e.selectedStyle)||void 0===r?void 0:r.color,backgroundColor:null===(c=e.selectedStyle)||void 0===c?void 0:c.backgroundColor},dangerouslySetInnerHTML:{__html:e.text}}):Object(v.jsx)("div",{style:{border:"solid 2px ".concat(null===(t=e.style)||void 0===t?void 0:t.color),fontSize:"".concat(null===(n=e.style)||void 0===n?void 0:n.fontSize,"px"),color:null===(a=e.style)||void 0===a?void 0:a.color,backgroundColor:null===(s=e.style)||void 0===s?void 0:s.backgroundColor},onClick:l,className:W.a.answer,children:e.text})},R=function(e){var t,n,s,o,r,c=Object(a.useState)([]),l=Object(u.a)(c,2),i=l[0],d=l[1],j=Object(a.useState)({}),p=Object(u.a)(j,2),b=p[0],m=p[1];if(!(e.formData.startId in e.formData.nodeMap))return Object(v.jsx)("div",{className:W.a.formWrapper,style:null===(s=e.formData)||void 0===s||null===(o=s.styles)||void 0===o?void 0:o.form,children:"Your form must have a valid start node"});0===i.length&&(r=e.formData.startId,d(i.concat([r])));return Object(v.jsx)("div",{className:W.a.formWrapper,style:null===(t=e.formData)||void 0===t||null===(n=t.styles)||void 0===n?void 0:n.form,children:i.map((function(t,n){var a,s,o,r,c,l,u,j,p,f,x,h,O,_,N,y,S=e.formData.nodeMap[t];return null==S?null:"question"===S.type?Object(v.jsx)(H,{question:"".concat(n+1,") ").concat(S.question),answers:S.answers,selectedAns:null!==(a=b[t])&&void 0!==a?a:null,setSelectedAns:function(n){return function(t,n){var a=Object.assign({},b);a[t]=n;var s,o=[],r=!1,c=Object(g.a)(i);try{for(c.s();!(s=c.n()).done;){var l=s.value;r?a[l]=null:o.push(l),t===l&&(r=!0)}}catch(u){c.e(u)}finally{c.f()}null!==n&&o.push(e.formData.nodeMap[t].answers[n].nextId),d(o),m(a)}(t,n)},style:null!==(s=null===(o=e.formData)||void 0===o||null===(r=o.styles)||void 0===r?void 0:r.question)&&void 0!==s?s:{},answerStyles:null===(c=e.formData)||void 0===c||null===(l=c.styles)||void 0===l?void 0:l.answer,selectedStyles:null===(u=e.formData)||void 0===u||null===(j=u.styles)||void 0===j?void 0:j.selected},n):"end"===S.type?Object(v.jsxs)("div",{className:W.a.endWrapper,children:[Object(v.jsx)("div",{className:W.a.endTitle,children:"Results"}),Object(v.jsx)("div",{style:{fontSize:"".concat(null===(p=e.formData)||void 0===p||null===(f=p.styles)||void 0===f||null===(x=f.result)||void 0===x?void 0:x.fontSize,"px"),color:null===(h=e.formData)||void 0===h||null===(O=h.styles)||void 0===O||null===(_=O.result)||void 0===_?void 0:_.color,backgroundColor:null===(N=e.formData)||void 0===N||null===(y=N.styles.result)||void 0===y?void 0:y.backgroundColor},className:W.a.endResult,dangerouslySetInnerHTML:{__html:S.result}})]},n):null}))})},z=n.p+"static/media/form.b6bcf46a.txt",X=n(3),J=n.n(X),Y=function(e){var t=e.panelId===e.selectedId?"".concat(J.a.sideBarItem," ").concat(J.a.selected):J.a.sideBarItem;return Object(v.jsx)("div",{onClick:function(){e.setSelectedId(e.panelId)},className:t,children:e.children})},V=function(e){var t=Object(a.useState)(0),n=Object(u.a)(t,2),s=n[0],o=n[1],r=function(t,n){var a=Object.assign({},e.formStyles);a[t]=n,e.setFormStyles(a)},c=function(t,n){var a,s=null!==(a=Object.assign({},e.formStyles.question))&&void 0!==a?a:{};s[t]=n,r("question",s)},l=function(t,n){var a,s=null!==(a=Object.assign({},e.formStyles.answer))&&void 0!==a?a:{};s[t]=n,r("answer",s)},i=function(t,n){var a,s=null!==(a=Object.assign({},e.formStyles.selected))&&void 0!==a?a:{};s[t]=n,r("selected",s)},d=function(t,n){var a,s=null!==(a=Object.assign({},e.formStyles.result))&&void 0!==a?a:{};s[t]=n,r("result",s)};return Object(v.jsxs)("div",{className:J.a.formEditor,children:[Object(v.jsxs)("div",{className:J.a.sideBar,children:[Object(v.jsx)(Y,{panelId:0,selectedId:s,setSelectedId:o,children:"Form"}),Object(v.jsx)(Y,{panelId:1,selectedId:s,setSelectedId:o,children:"Question"}),Object(v.jsx)(Y,{panelId:2,selectedId:s,setSelectedId:o,children:"Result"})]}),Object(v.jsx)("div",{className:J.a.main,children:function(){var t,n,a,o,u,j,p,b,m,f,x,h,O,_,g,N,y,S,w,C,k,I;switch(s){case 0:return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:J.a.heading,children:"Form"}),Object(v.jsxs)("div",{className:J.a.property,children:[Object(v.jsx)("div",{className:J.a.subheading,children:"Background Color"}),Object(v.jsx)("input",{value:null!==(t=null===(n=e.formStyles.form)||void 0===n?void 0:n.backgroundColor)&&void 0!==t?t:"#ffffff",onChange:function(t){return function(t,n){var a,s=null!==(a=Object.assign({},e.formStyles.form))&&void 0!==a?a:{};s[t]=n,r("form",s)}("backgroundColor",t.target.value)},type:"color"})]})]});case 1:return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:J.a.heading,children:"Question"}),Object(v.jsxs)("div",{className:J.a.property,children:[Object(v.jsx)("div",{className:J.a.subheading,children:"Color"}),Object(v.jsx)("input",{value:null!==(a=null===(o=e.formStyles.question)||void 0===o?void 0:o.color)&&void 0!==a?a:"#000000",onChange:function(e){c("color",e.target.value)},type:"color"})]}),Object(v.jsxs)("div",{className:J.a.property,children:[Object(v.jsx)("div",{className:J.a.subheading,children:"Font Size"}),Object(v.jsx)("input",{value:null!==(u=null===(j=e.formStyles.question)||void 0===j?void 0:j.fontSize)&&void 0!==u?u:20,onChange:function(e){c("fontSize",e.target.value)},type:"number"})]}),Object(v.jsx)("div",{className:J.a.heading,children:"Answer"}),Object(v.jsxs)("div",{className:J.a.property,children:[Object(v.jsx)("div",{className:J.a.subheading,children:"Color"}),Object(v.jsx)("input",{value:null!==(p=null===(b=e.formStyles.answer)||void 0===b?void 0:b.color)&&void 0!==p?p:"#000000",onChange:function(e){l("color",e.target.value)},type:"color"})]}),Object(v.jsxs)("div",{className:J.a.property,children:[Object(v.jsx)("div",{className:J.a.subheading,children:"Background Color"}),Object(v.jsx)("input",{value:null!==(m=null===(f=e.formStyles.answer)||void 0===f?void 0:f.backgroundColor)&&void 0!==m?m:"#ffffff",onChange:function(e){l("backgroundColor",e.target.value)},type:"color"})]}),Object(v.jsxs)("div",{className:J.a.property,children:[Object(v.jsx)("div",{className:J.a.subheading,children:"Font Size"}),Object(v.jsx)("input",{value:null!==(x=null===(h=e.formStyles.answer)||void 0===h?void 0:h.fontSize)&&void 0!==x?x:20,onChange:function(e){l("fontSize",e.target.value)},type:"number"})]}),Object(v.jsxs)("div",{className:J.a.property,children:[Object(v.jsx)("div",{className:J.a.subheading,children:"Selected Color"}),Object(v.jsx)("input",{value:null!==(O=null===(_=e.formStyles.selected)||void 0===_?void 0:_.color)&&void 0!==O?O:"#ffffff",onChange:function(e){i("color",e.target.value)},type:"color"})]}),Object(v.jsxs)("div",{className:J.a.property,children:[Object(v.jsx)("div",{className:J.a.subheading,children:"Selected Background Color"}),Object(v.jsx)("input",{value:null!==(g=null===(N=e.formStyles.selected)||void 0===N?void 0:N.color)&&void 0!==g?g:"#E34552",onChange:function(e){i("backgroundColor",e.target.value)},type:"color"})]})]});case 2:return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:J.a.heading,children:"Result"}),Object(v.jsxs)("div",{className:J.a.property,children:[Object(v.jsx)("div",{className:J.a.subheading,children:"Color"}),Object(v.jsx)("input",{value:null!==(y=null===(S=e.formStyles.result)||void 0===S?void 0:S.color)&&void 0!==y?y:"#ffffff",onChange:function(e){d("color",e.target.value)},type:"color"})]}),Object(v.jsxs)("div",{className:J.a.property,children:[Object(v.jsx)("div",{className:J.a.subheading,children:"Background Color"}),Object(v.jsx)("input",{value:null!==(w=null===(C=e.formStyles.result)||void 0===C?void 0:C.backgroundColor)&&void 0!==w?w:"#1A192B",onChange:function(e){d("backgroundColor",e.target.value)},type:"color"})]}),Object(v.jsxs)("div",{className:J.a.property,children:[Object(v.jsx)("div",{className:J.a.subheading,children:"Font Size"}),Object(v.jsx)("input",{value:null!==(k=null===(I=e.formStyles.result)||void 0===I?void 0:I.fontSize)&&void 0!==k?k:30,onChange:function(e){d("fontSize",e.target.value)},type:"number"})]})]});default:throw new Error("Invalid panel id")}}()})]})};!function(e){e[e.Start=0]="Start",e[e.Question=1]="Question",e[e.End=2]="End"}(k||(k={}));var U=s.a.createContext((function(e){})),Z=s.a.createContext("");var G=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],s=t[1],o=Object(a.useState)("My Calculator"),r=Object(u.a)(o,2),l=r[0],p=r[1],f=Object(a.useState)({x:300,y:300}),x=Object(u.a)(f,2),O=x[0],g=x[1],C=Object(a.useState)({}),I=Object(u.a)(C,2),E=I[0],B=I[1],T=Object(a.useState)(!1),L=Object(u.a)(T,2),A=L[0],M=L[1],W=Object(a.useRef)(null),H=Object(a.useState)(""),Q=Object(u.a)(H,2),X=Q[0],J=Q[1],Y=Object(a.useState)([]),G=Object(u.a)(Y,2),K=G[0],$=G[1],ee=function(e){switch(e){case k.Start:!function(){var e={id:Date.now().toString(),type:"input",data:{label:"Start Node"},position:O,sourcePosition:"right",className:"startNode"};$(K.concat([e])),g(N(e.position,{x:100,y:100}))}();break;case k.Question:!function(){var e={id:Date.now().toString(),type:"question",data:{label:"Question node",question:"My question",answers:[{text:"My Answer"}]},position:O};$(K.concat([e])),g(N(e.position,{x:100,y:100}))}();break;case k.End:!function(){var e={id:Date.now().toString(),type:"end",data:{label:"End Node",result:"My Result"},position:O};$(K.concat([e])),g(N(e.position,{x:100,y:100}))}();break;default:throw new Error("Invalid type of ".concat(e))}},te=function(){var e=Object(d.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=W.current)||void 0===t||t.click(),t.onchange=Object(d.a)(i.a.mark((function e(){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t.files[0]);case 3:a=e.sent,$(a.elements),B(null!==(n=a.styles)&&void 0!==n?n:{}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Save file is invalid"),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(d.a)(i.a.mark((function e(){var t,n,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify(y(K,E)),e.next=3,fetch(z);case 3:return n=e.sent,e.next=6,n.text();case 6:a=e.sent,(s=(new DOMParser).parseFromString(a,"text/html")).getElementById("form-json").textContent=t,S(s.documentElement.outerHTML,"".concat(l.replace(" ","_"),".html"),"text/plain");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(d.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=n.toObject()).styles=E,S(JSON.stringify(t),"".concat(l.replace(" ","_"),".json"),"text/plain");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:b.a.app,children:[Object(v.jsx)("input",{type:"file",accept:"application/JSON",className:b.a.fileInput,ref:W}),A?Object(v.jsxs)("div",{className:b.a.backdrop,children:[Object(v.jsx)("div",{className:b.a.backdropElementWrapper,children:Object(v.jsx)("div",{className:b.a.backdropMain,children:Object(v.jsx)(V,{formStyles:E,setFormStyles:B})})}),Object(v.jsxs)("div",{className:b.a.backdropElementWrapper,children:[Object(v.jsx)("div",{className:b.a.backdropHeader,children:Object(v.jsx)(q.b,{className:b.a.backdropRemoveBtn,onClick:function(){return M(!1)}})}),Object(v.jsx)("div",{className:b.a.backdropMain,children:Object(v.jsx)(R,{formData:y(K,E)})})]})]}):null,Object(v.jsx)(_,{onTestForm:function(){M(!0)},onLoadSave:te,onSave:ae,onExport:ne,createNode:ee,title:l,setTitle:p}),Object(v.jsx)(F,{deleteNode:function(){return function(e){var t=K.filter((function(t){return t.id!==e}));t.length!==K.length&&$(t)}(X)},nodeData:function(){var e=K.filter((function(e){return e.id===X}));return 0===e.length?null:e[0]}(),setNodeData:function(e){return function(e,t){var n=K.filter((function(t){return t.id!==e}));n.length!==K.length&&$(n.concat([t]))}(X,e)}}),Object(v.jsx)("div",{className:b.a.flowWrapper,children:Object(v.jsx)(U.Provider,{value:function(e){$(K.filter((function(t){return t.id!==e})))},children:Object(v.jsx)(Z.Provider,{value:X,children:Object(v.jsxs)(j.i,{nodeTypes:{question:D,end:P},edgeTypes:{buttonedge:m},elements:K,onElementClick:function(e,t){g(N(t.position,{x:100,y:100})),J(t.id)},onEdgeUpdate:function(e,t){$(Object(j.o)(e,t,K))},onConnect:function(e){$(Object(j.h)(Object(c.a)(Object(c.a)({},e),{},{type:"buttonedge"}),K))},onLoad:function(e){return s(e)},children:[Object(v.jsx)(j.a,{variant:j.b.Dots,gap:24,size:1}),Object(v.jsx)(j.f,{nodeColor:function(e){switch(e.type){case"input":return"#FCB332";case"question":return"#EB4B64";case"end":return"#6CE063";default:return"#eee"}},nodeStrokeWidth:3}),Object(v.jsxs)(j.d,{className:b.a.controls,children:[Object(v.jsx)(j.c,{onClick:function(){return ee(k.Start)},className:b.a.customControlBtn,children:Object(v.jsx)(h.d,{className:b.a.controlStartIcon})}),Object(v.jsx)(j.c,{onClick:function(){return ee(k.Question)},className:b.a.customControlBtn,children:Object(v.jsx)(h.e,{className:b.a.controlsQuestionIcon})}),Object(v.jsx)(j.c,{onClick:function(){return ee(k.End)},className:b.a.customControlBtn,children:Object(v.jsx)(h.c,{className:b.a.controlsEndIcon})})]})]})})})})]})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),o(e),r(e)}))};console.log("Flow forms version: ".concat("1.0.5")),r.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(G,{})}),document.getElementById("root")),K()}],[[30,1,2]]]);
//# sourceMappingURL=main.7da2c03c.chunk.js.map